# 檢查-存款資料筆數、餘額是否正確
- 操作步驟
- Step1: 到 Access 中找到 **0 - 查詢每日 OS 總計(Deposit)** ，並輸入 **KeyDate** 欄位為需要的區間
- Step2: 檢查當日的存款餘額、活存餘額、TotalCount欄位數字是否跟過去類似，如果差距很大說明資料尚未獲取完成
- Step3: 遠端連線到 **LW983091** 執行 **1_Daily_DepositOS(CBG)** 排程
- Step4: 再次檢查

# 其他
- **發生異常:** 會跳出另外一個視窗用於提示錯誤，此時就需要 **達叔** 解決
- 在執行排程的時候，會有一個視窗用於顯示當前下載資料的過程

# 流程
- 我們的腳本會去獲取 **倉儲** 的資料，主要獲取的區間為 **前一個工作日 ~ 兩個禮拜之前** 的數據。

# 運作邏輯：檢查
- **邏輯：** 以 **將五個工作日的平均值減去一千** 會得到這個標準值，如果當天的資料筆數小於這個標準值，則會刪除這天的所有數據，並重新獲取

- **原因：** 從 **倉儲** 獲取數據時，**倉儲** 也正在獲取資料，所以此時我們獲取的資料筆數會不正確，所以如上邏輯是用來檢查這個狀況的發生

- 可以到 **Access** 中的 **「0 - 查詢每日 OS 總計(Deposit)」** 執行該查詢檢查「KeyDate 欄位值是否為前一天」

# 異常
### 出現 email 卡住的狀況
使用 **MySQL WorkBench** 輸入如下 SQL 語句，刪除前一天的數據
```sql
Delete FROM cb.clientdepositos WHERE keydate = '前一天日期'

-- 範例
Delete FROM cb.clientdepositos WHERE keydate = '2025/06/25'
```